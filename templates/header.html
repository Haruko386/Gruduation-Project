{% load static %}
<style>
    .avatar-thumb {
        width: 30px;
        height: 30px;
        object-fit: cover;
    }

    .navbar-white {
        color: #ffffff;
    }

    .imgs {
        width: 90px;
        height: 90px;
    }

    .clocks {
        color: black;
    }
    .icon {
        max-height: 40px;
        max-width: 40px;
    }
    .banners {
        max-height: 25%;
    }
    .navbar-nav .nav-item {
        display: flex;
        align-items: center;
    }
</style>

<!-- å®šä¹‰å¯¼èˆªæ  -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container">

        <!-- å¯¼èˆªæ å•†æ ‡ -->
        <a class="navbar-brand d-flex align-items-center" href="{% url 'article:article_list' %}">
            <img src="{% static 'img/ico/steam.png' %}" alt="å•†æ ‡" class="mr-2 logo-img">
            åº”æ€¥ç®¡ç†å®£ä¼ ç³»ç»Ÿ
        </a>

        <!-- å¯¼èˆªå…¥å£ -->
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <!-- æ¡ç›® -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'article:article_list' %}">ä¸»é¡µğŸ’¾</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="newsDropdown" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        æ–°é—»ğŸ“°
                    </a>
                    <div class="dropdown-menu" aria-labelledby="newsDropdown">
                        <a class="dropdown-item" href="{% url 'article:search_articles' %}?tag=åº”æ€¥è¦é—»">åº”æ€¥è¦é—»</a>
                        <a class="dropdown-item" href="{% url 'article:search_articles' %}?tag=æ—¶æ”¿ä¸“æ ">æ—¶æ”¿ä¸“æ </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="{% url 'article:search_articles' %}?tag=åª’ä½“ä¿¡æ¯">åª’ä½“ä¿¡æ¯</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="opennessDropdown" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        å…¬å¼€ğŸ—ƒï¸
                    </a>
                    <div class="dropdown-menu" aria-labelledby="opennessDropdown">
                        <a class="dropdown-item" href="{% url 'article:search_articles' %}?tag=é€šçŸ¥å…¬å‘Š">é€šçŸ¥å…¬å‘Š</a>
                        <a class="dropdown-item" href="{% url 'article:search_articles' %}?tag=æ”¿ç­–è§£è¯»">æ”¿ç­–è§£è¯»</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'article:search_articles' %}">åº”æ€¥ç§‘æ™®ğŸ“šï¸</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link">|</a>
                </li>
                <li class="nav-item">
                    <form class="form-inline my-2 my-lg-0" action="{% url 'article:search_articles' %}">
                        <input type="text" class="form-control mr-sm-2" name="search" placeholder="æœç´¢æ–‡ç« ..." required>
                    </form>
                </li>
                <li class="nav-item">
                    <a class="nav-link">|</a>
                </li>

                {% if user.is_authenticated %}
                    <li class="nav-item dropdown d-flex align-items-center">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {% if user.profile.avatar %}
                                <img src="{{ user.profile.avatar.url }}" class="avatar-img avatar-thumb mr-2"
                                     alt="User Avatar">
                                {{ user.username }}
                            {% else %}
                                <!-- å¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œå¯ä»¥æ˜¾ç¤ºé»˜è®¤çš„å ä½ç¬¦æˆ–è€…æç¤º -->
                                <i class="fas fa-user-circle mr-2"></i> {{ user.username }}
                            {% endif %}
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href='{% url "userprofile:edit" user.id %}'>ç¼–è¾‘èµ„æ–™</a>
                            <a class="dropdown-item" href="{% url 'article:article_create' %}">å†™æ–‡ç« </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href='{% url "userprofile:logout" %}'>é€€å‡ºç™»å½•</a>
                        </div>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'userprofile:login' %}">ç™»å½•</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>

{% if user.is_authenticated %}
    <form
        style="display:none;"
        id="user_delete"
        action="{% url 'userprofile:delete' user.id %}"
        method="POST"
    >
        {% csrf_token %}
        <button type="submit">å‘é€</button>
    </form>
{% endif %}
